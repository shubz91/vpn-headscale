vpn.abherifintech.com {
    tls ultimateshubz@gmail.com

    log {
        output file /var/log/caddy/access.log
        format json
    }

    header Strict-Transport-Security "max-age=31536000;"

    # Route admin UI to headplane (WITHOUT stripping /admin)
    route /admin* {
        reverse_proxy http://headplane:3000
    }

    # Everything else â†’ headscale API
    reverse_proxy http://headscale:8080
}